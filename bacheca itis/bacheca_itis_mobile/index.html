<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Bacheca ITIS — Mobile App</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&family=Roboto:wght@400&display=swap" rel="stylesheet">
<style>
  :root{--bg:#071426;--card:#0b2e5a;--glass:rgba(255,255,255,0.04);--gold:#ffd166;--accent:#0b3d91;--ink:#0b1b2b}
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{font-family:Roboto,system-ui,-apple-system;background:linear-gradient(180deg,var(--bg),#061224);color:#eef6ff;-webkit-font-smoothing:antialiased}

  /* SPLASH */
  .splash{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#000a12,#041018 60%);z-index:99;overflow:hidden;transition:opacity .6s ease,transform .6s ease}
  .splash.hidden{opacity:0;transform:scale(.992);pointer-events:none}
  .splash-inner{display:flex;flex-direction:column;align-items:center;gap:14px;text-align:center;padding:18px}

  /* eagle svg sizing */
  .eagle-stem{width:66vw;max-width:460px}
  .reflection{width:60vw;max-width:380px;height:12px;border-radius:50%;background:radial-gradient(ellipse at center, rgba(255,210,120,0.12), rgba(0,0,0,0));filter:blur(12px);opacity:.95}
  .splash-title{font-family:Montserrat,Arial;font-size:20px;color:var(--gold);font-weight:700}
  .splash-sub{opacity:.92;font-size:13px}

  header{padding:12px 14px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);backdrop-filter:blur(6px);display:flex;align-items:center;gap:12px}
  .logo{width:52px;height:52px;border-radius:12px;background:linear-gradient(135deg,var(--card),rgba(255,255,255,0.02));display:flex;align-items:center;justify-content:center;flex-shrink:0}
  .title{flex:1}
  .title h1{font-family:Montserrat,Arial;font-size:17px;color:var(--gold);letter-spacing:0.6px;margin-bottom:3px}
  .title p{font-size:12px;opacity:.9}

  main{padding:12px;flex:1;overflow:auto}
  .cards{display:flex;flex-direction:column;gap:10px;margin-bottom:12px}
  .card{display:flex;gap:12px;align-items:flex-start;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:12px;padding:12px;border:1px solid var(--glass);box-shadow:0 10px 30px rgba(0,0,0,0.45)}
  .avatar{width:64px;height:64px;border-radius:50%;background:linear-gradient(135deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));flex-shrink:0;overflow:hidden;display:flex;align-items:center;justify-content:center;border:3px solid #d6b86b}
  .avatar img{width:100%;height:100%;object-fit:cover;}
  .info{flex:1}
  .info h3{color:var(--gold);font-size:15px;margin-bottom:2px}
  .info .role{font-size:13px;opacity:.95}
  .info p{font-size:13px;margin-top:6px;opacity:.95}

  .bacheca{margin-top:8px}
  form{display:flex;flex-direction:column;gap:8px}
  input,textarea{background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03);padding:10px;border-radius:10px;color:#fff;font-size:14px}
  textarea{min-height:96px;resize:vertical}
  .row{display:flex;gap:8px}
  .btn{flex:0 0 auto;background:linear-gradient(90deg,var(--accent),#154b9a);color:white;padding:10px 12px;border-radius:10px;border:none;font-weight:700}
  .muted{background:transparent;border:1px solid rgba(255,255,255,0.04);color:#fff;padding:10px 12px;border-radius:10px}

  .posts{margin-top:12px;display:flex;flex-direction:column;gap:8px}
  .post{background:linear-gradient(90deg,rgba(255,255,255,0.01),rgba(255,255,255,0.02));padding:10px;border-radius:10px;border-left:4px solid rgba(255,209,102,0.6)}
  .post time{display:block;font-size:12px;opacity:.85;margin-bottom:6px}

  footer{padding:12px;display:flex;gap:8px;align-items:center;justify-content:space-between}
  .hint{font-size:12px;opacity:.9}

  @media(min-width:700px){body{background:#071426}}
</style>
</head>
<body>
  <!-- SPLASH: stylized realistic emblem-like eagle (gold + black details) -->
  <div class="splash" id="splash" aria-hidden="false">
    <div class="splash-inner">
      <div class="eagle-stem" aria-hidden="true">
        <!-- Eagle emblem SVG: gold fill with black accents, standing pose -->
        <svg viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Aquila in piedi stilizzata">
          <defs>
            <linearGradient id="gA" x1="0" x2="1">
              <stop offset="0" stop-color="#fff7ea"/>
              <stop offset="1" stop-color="#ffd166"/>
            </linearGradient>
            <linearGradient id="gB" x1="0" x2="1">
              <stop offset="0" stop-color="#222222"/>
              <stop offset="1" stop-color="#0b1b2b"/>
            </linearGradient>
            <filter id="f1" x="-20%" y="-20%" width="140%" height="140%"><feDropShadow dx="0" dy="18" stdDeviation="18" flood-color="#000" flood-opacity="0.5"/></filter>
          </defs>

          <g transform="translate(0,0)" filter="url(#f1)">
            <!-- tail / lower body shadow -->
            <path d="M200 420 C240 460 360 460 400 420" fill="#0b1116" opacity="0.28"/>
            <!-- body -->
            <path d="M300 120 C260 120 220 160 220 210 C220 260 260 300 300 300 C340 300 380 260 380 210 C380 160 340 120 300 120 Z" fill="url(#gA)" stroke="#0b1116" stroke-width="2"/>
            <!-- chest shading -->
            <path d="M260 200 C290 230 310 230 340 200" fill="#000" opacity="0.06"/>
            <!-- left wing folded -->
            <path d="M220 200 C160 260 120 320 120 360 C160 340 200 320 240 300" fill="url(#gA)" stroke="#0b1116" stroke-width="2"/>
            <!-- right wing folded -->
            <path d="M380 200 C440 260 480 320 480 360 C440 340 400 320 360 300" fill="url(#gA)" stroke="#0b1116" stroke-width="2"/>
            <!-- head -->
            <g transform="translate(330,110)">
              <path d="M-8 -12 C-20 -8 -28 4 -14 18 C4 30 18 18 8 2 C10 -2 12 -8 8 -14 C4 -20 -2 -18 -8 -12 Z" fill="#fff7ea" stroke="#0b1116" stroke-width="1.5"/>
              <!-- beak -->
              <path d="M12 2 L30 4 L14 14 Z" fill="#c07a1a" stroke="#000" stroke-width="0.6"/>
              <!-- eye -->
              <circle cx="-2" cy="-2" r="2.4" fill="#0b1b2b"/>
            </g>
            <!-- talons -->
            <path d="M260 340 C270 360 290 380 310 380 C330 380 350 360 360 340" fill="#0b1116" opacity="0.9"/>
            <!-- decorative crest lines -->
            <path d="M300 130 C270 150 240 170 220 200" fill="none" stroke="#0b1116" stroke-width="1.2" opacity="0.7"/>
            <path d="M300 130 C330 150 360 170 380 200" fill="none" stroke="#0b1116" stroke-width="1.2" opacity="0.7"/>
          </g>
        </svg>
      </div>
      <div class="reflection" aria-hidden="true"></div>
      <div class="splash-title">Bacheca ITIS</div>
      <div class="splash-sub">Rappresentanti • Annunci • Consiglio d'Istituto</div>
    </div>
  </div>

  <header id="header" style="display:none">
    <div class="logo">
      <!-- small stylized eagle icon (gold + black) -->
      <svg viewBox="0 0 240 240" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="miniG" x1="0" x2="1"><stop offset="0" stop-color="#fff7ea"/><stop offset="1" stop-color="#ffd166"/></linearGradient></defs><g transform="translate(0,40)"><path d="M12 150 C56 96 120 78 180 110" stroke="url(#miniG)" stroke-width="18" stroke-linecap="round" fill="none"/></g></svg>
    </div>
    <div class="title">
      <h1>Bacheca ITIS</h1>
      <p>Rappresentanti & Annunci</p>
    </div>
  </header>

  <main id="main" style="display:none">
    <section class="cards" id="cards"></section>

    <section class="bacheca">
      <form id="postForm">
        <input id="title" placeholder="Titolo (opzionale)" type="text">
        <textarea id="content" placeholder="Scrivi qui (anonimo)"></textarea>
        <div class="row">
          <button class="btn" type="submit">Pubblica</button>
          <button type="button" id="download" class="muted">Scarica</button>
        </div>
      </form>
      <div class="posts" id="posts"></div>
    </section>
  </main>

  <footer id="footer" style="display:none">
    <div class="hint">Versione mobile • ITIS</div>
  </footer>

<script>
// data
const reps=[
  {name:'Martina Pompili', role:'Rappresentante - Meccanico', ideas:'Potenziare i laboratori pratici, tornei e giornate STEM.', img:'https://picsum.photos/seed/martina/400/400'},
  {name:'Di Buò Giuseppe', role:'Rappresentante - Elettrotecnica', ideas:'Migliorare Wi‑Fi e creare archivio digitale.', img:'https://picsum.photos/seed/giuseppe/400/400'},
  {name:'Sosi Andrea', role:'Rappresentante - Meccanica', ideas:'Richiedere attrezzature aggiornate e gite.', img:'https://picsum.photos/seed/andrea/400/400'},
  {name:'Christian Pezzini', role:'Rappresentante - Meccanica', ideas:'Creare giornalino scolastico e forum.', img:'https://picsum.photos/seed/christian/400/400'}
];

const splash=document.getElementById('splash');
const header=document.getElementById('header');
const main=document.getElementById('main');
const footer=document.getElementById('footer');

function populateReps(){
  const cards=document.getElementById('cards'); cards.innerHTML='';
  reps.forEach(r=>{
    const card=document.createElement('div'); card.className='card';
    card.innerHTML = `
      <div class="avatar"><img src="${r.img}" alt="${r.name}"></div>
      <div class="info">
        <h3>${r.name}</h3>
        <div class="role">${r.role}</div>
        <p>${r.ideas}</p>
      </div>`;
    cards.appendChild(card);
  });
}

let introPlayed=false;
function hideSplash(){ if(introPlayed) return; introPlayed=true; splash.classList.add('hidden'); setTimeout(()=>{ splash.style.display='none'; header.style.display='flex'; main.style.display='block'; footer.style.display='flex'; },620); }

window.addEventListener('load', ()=>{ populateReps(); // auto hide splash after 2s
  setTimeout(()=>{ hideSplash(); }, 2000);
});

// allow tap to skip splash
splash.addEventListener('pointerdown', ()=>{ hideSplash(); }, {once:true});

// posts
let posts = JSON.parse(localStorage.getItem('bacheca_posts')||'[]');
const postsDiv=document.getElementById('posts');
function renderPosts(){ postsDiv.innerHTML=''; posts.forEach(p=>{ const el=document.createElement('div'); el.className='post'; const t=document.createElement('time'); t.textContent=new Date(p.date).toLocaleString(); el.appendChild(t); const title=document.createElement('div'); title.style.fontWeight='700'; title.style.marginBottom='6px'; title.textContent=p.title||'Anonimo'; el.appendChild(title); const body=document.createElement('div'); body.innerHTML=p.content; el.appendChild(body); postsDiv.appendChild(el); }); }
renderPosts();

document.getElementById('postForm').addEventListener('submit', ev=>{ ev.preventDefault(); const t=document.getElementById('title').value.trim(); const c=document.getElementById('content').value.trim(); if(!c) return; posts.unshift({title:t||'Anonimo',content:c,date:Date.now()}); localStorage.setItem('bacheca_posts', JSON.stringify(posts)); document.getElementById('postForm').reset(); renderPosts(); });

document.getElementById('download').addEventListener('click', ()=>{ const blob=new Blob([JSON.stringify(posts,null,2)],{type:'application/json'}); const url=URL.createObjectURL(blob); const a=document.createElement('a'); a.href=url; a.download='bacheca_posts.json'; a.click(); URL.revokeObjectURL(url); });

// respects reduced motion
if(window.matchMedia('(prefers-reduced-motion: reduce)').matches){ document.querySelectorAll('.splash,.card,.avatar').forEach(el=>el.style.transition='none'); }
</script>
</body>
</html>
